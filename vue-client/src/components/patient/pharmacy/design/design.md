Layer 1 card:
  
==============  
┌──────────────────────────────────────────────────────────────────┐ ┌───────────────────────┐  
│ ┌──────────┐ │ │ │  
│ Pharmacy │ A │◀───┼──│Add pharmacy button │  
│ └──────────┘ │ │ │  
├──────────────────────────────────────────────────────────────────┤ └───────────────────────┘  
│ │  
│ Pharmacy name Action │  
│ │  
│ ──────────────────────────────────────────────────────────────── │  
│ │ ┌───────────────────────────┐  
│ ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┌───┐ │ │Action: │  
│ Pharmacy 1 name and address │ │ D │ │ │D -> Discontinue │  
│ │ │ │ │ │ │  
│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘ └───┘ │ └───────────────────────────┘  
│ ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐ ┌───┐ │  
│ Pharmacy 2 name and address │ D │ │  
│ │ │ │ │ │  
│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ └───┘ │  
│ │  
│ │  
│ │  
│ │  
│ │  
│ │  
│ │  
└──────────────────────────────────────────────────────────────────┘  
  
Layer 2:  
========

When adding 2nd layer has 3 options:
Find on map
Find in surescripts
Enter manually

Search pharmacy in google map, it will open when Add pharmacy button clicked in layer 1

---

┌───────────────────────────────────────────────────────────────┐  
│ │  
│ Pharmacy │  
│ │ ┌───────────────────────────────┐  
├───────────────────────────────────────────────────────────────┤ │This is typeahead search box. │  
│ ┌───────────────────────────────────────────────┼───┤In this field you can search │  
│ │ │ │pharmacies. │  
│ ┌─────────────▼────────────────────────────────────────────┐ │ │ │  
│ │ Enter a location │ │ └───────────────────────────────┘  
│ └──────────────────────────────────────────────────────────┘ │  
│ ┌──────────────────────────────────────────────────────────┐ │  
│ │ │ │  
│ │ │ │  
│ │ │ │  
│ │ │ │  
│ │ │ │  
│ │ │ │  
│ │ Goole map graph │ │  
│ │ │ │  
│ │ │ │  
│ │ │ │  
│ │ │ │  
│ │ │ │  
│ │ │ │  
│ └──────────────────────────────────────────────────────────┘ │  
│ ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐ ┌────────┐ │ ┌─────────────────────────────┐  
│ Location search result 1 │ Add │ │ │Search results from google │  
│ │ ◀─────────┼─┼────────┼──┼───│map api based on the search │  
│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ └────────┘ │ │key. │  
│ ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐ ┌────────┐ │ └─────────────────────────────┘  
│ Location search result 2 │ Add │ │  
│ │ │ │ │ │  
│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ └────────┘ │  
│ ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐ ┌────────┐ │ ┌─────────────────────────────┐  
│ Location search result 3 │ Add │ │ │Add button. It will open add │  
│ │ │ │ │◀─┼───│form in layer 2 │  
│ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ └────────┘ │ └─────────────────────────────┘  
└───────────────────────────────────────────────────────────────┘  
  
  
  
Layer 2 add form
  
================  
  
  
add form when type is 'On surescripts' (default case) :

---

                                                                    ┌────────────────────────────────────────────┐

┌───────────────────────────────────────────────────────────────┐ │This is a dropdown and the values are 'Not │
│ ┌────────────────────────────┼───│on surescripts' and 'On surescripts'. By │
│ Add pharmacy │ │ │default 'On surescripts' will be selected. │
├──────────────────────────────────▼────────────────────────────┤ │Current diagram is for 'On surescripts' case│
│ ┌──────────────────────────────────────────────┐ │ └────────────────────────────────────────────┘
│ Type _ │On Surescripts ▼ │ │  
│ └──────────────────────────────────────────────┘ │ ┌─────────────────────────────────────────────┐
│ │ │'Name' field is typeahead drop-down. It will │
│ ┌──────────────────────────────────────────────┐ │ │search data from database table: │
│ Name _ │ ▼ │◀───┐│ │masterPharmacyFromSurescripts and it will │
│ └──────────────────────────────────────────────┘ ││ │show fetched data in drop-down. User can │
│ ││ │select one from the drop-down and save. It │
│ ┌──────────────────────────────────────────────┐ ││ │will add respective pharmacy to that patient.│
│ Notes │ │ └┼───│ │
│ └──────────────────────────────────────────────┘ │ │The logic for searching of 'Name' field: User│
│ ┌───────────┐ │ │can search any combination of following │
│ │ Save │ │ │fields in comma separated manner. The fields │
│ └───────────┘ │ │are 'OrganizationName', 'AddressLine1', │
│ │ │'AddressLine2', 'City', 'State' and 'Zip' │
└───────────────────────────────────────────────────────────────┘ └─────────────────────────────────────────────┘
  
  
  
add form when type is 'Not on surescripts' selected:

---

┌───────────────────────────────────────────────────────────────┐  
│ │  
│ Add pharmacy │  
├───────────────────────────────────────────────────────────────┤  
│ │  
│ │  
│ ┌─────────────────────────────────────┐ │  
│ Type _ │Not On Surescripts ▼ │ │  
│ └─────────────────────────────────────┘ │  
│ ┌─────────────────────────────────────┐ │  
│ Name _ │ │ │  
│ └─────────────────────────────────────┘ │  
│ ┌─────────────────────────────────────┐ │  
│ Address line 1 │ │ │  
│ └─────────────────────────────────────┘ │  
│ ┌─────────────────────────────────────┐ │  
│ Address line 2 │ │ │  
│ └─────────────────────────────────────┘ │  
│ ┌─────────────────────────────────────┐ │  
│ City _ │ ▼ │ │  
│ └─────────────────────────────────────┘ │  
│ ┌─────────────────────────────────────┐ │  
│ State _ │ ▼ │ │  
│ └─────────────────────────────────────┘ │  
│ ┌─────────────────────────────────────┐ │  
│ Notes │ │ │  
│ └─────────────────────────────────────┘ │  
│ │  
│ ┌───────────┐ │  
│ │ Save │ │  
│ └───────────┘ │  
│ │  
└───────────────────────────────────────────────────────────────┘
